# TrueVault VPN - Main .htaccess

# Enable Rewrite Engine
RewriteEngine On
RewriteBase /

# Serve public/index.html as the main page
DirectoryIndex public/index.html index.html index.php

# API requests
RewriteRule ^api/(.*)$ api/$1 [L]

# Dashboard routes
RewriteRule ^dashboard/?$ public/dashboard/index.html [L]
RewriteRule ^dashboard/(.*)$ public/dashboard/$1 [L]

# Admin routes  
RewriteRule ^admin/?$ public/admin/index.html [L]
RewriteRule ^admin/(.*)$ public/admin/$1 [L]

# Login/Register
RewriteRule ^login/?$ public/login.html [L]
RewriteRule ^register/?$ public/register.html [L]

# Serve from public directory
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{DOCUMENT_ROOT}/public%{REQUEST_URI} -f
RewriteRule ^(.*)$ public/$1 [L]

# Default to public/index.html
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^$ public/index.html [L]
